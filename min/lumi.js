const canvas=document.getElementById("starCanvas"),ctx=canvas.getContext("2d");let width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight,stars=[];const distanceModifier=1.5;window.addEventListener("resize",(function(){width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight}));class Star{constructor(t,i,a,e){this.x=t,this.y=i,this.finalSize=2*Math.random(),this.size=2*this.finalSize,this.alpha=1,this.velocityX=.05*a,this.velocityY=1+Math.random()+.05*e,this.gravity=.02,this.drag=.97,this.turbulence=()=>.5*Math.random()-.25,this.timeElapsed=0,this.fadeSpeed=.002}draw(){ctx.fillStyle=`rgba(255, 255, 255, ${this.alpha})`,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}update(t){this.x+=this.velocityX+this.turbulence(),this.velocityX*=this.drag,this.y+=this.velocityY,this.velocityY+=this.gravity,this.alpha=Math.max(0,this.alpha-this.fadeSpeed),this.timeElapsed+=t,this.timeElapsed<2e3?this.size=2*this.finalSize-this.finalSize*this.timeElapsed/2e3:this.size=this.finalSize}}let lastMouseX=0,lastMouseY=0,mouseVelocityX=0,mouseVelocityY=0;function addStar(t){mouseVelocityX=t.clientX-lastMouseX,mouseVelocityY=t.clientY-lastMouseY,lastMouseX=t.clientX,lastMouseY=t.clientY;for(let i=0;i<2;i++){let i=100*(Math.random()-.5),a=100*(Math.random()-.5),e=t.clientX+30*(Math.random()-.5),s=t.clientY+30*(Math.random()-.5);stars.push(new Star(e,s,1.5*(mouseVelocityX+i),1.5*(mouseVelocityY+a)))}}function explodeStars(t,i){for(let a=0;a<300;a++){const a=Math.random()*Math.PI*2,e=1.5*(100*Math.random()+5),s=Math.cos(a)*e,h=Math.sin(a)*e;stars.push(new Star(t,i,s,h))}}canvas.addEventListener("mousemove",addStar),canvas.addEventListener("click",(t=>{explodeStars(t.clientX,t.clientY)}));let lastTime=0;function update(t=0){const i=t-lastTime;lastTime=t,ctx.clearRect(0,0,width,height),stars.forEach((t=>t.update(i))),stars.forEach((t=>t.draw())),stars=stars.filter((t=>t.alpha>0&&t.y<height&&t.x>0&&t.x<width)),requestAnimationFrame(update)}function addInitialStars(){for(let t=0;t<50;t++){const t=Math.random()*width,i=Math.random()*height,a=10*(Math.random()-.5),e=10*(Math.random()-.5);stars.push(new Star(t,i,a,e))}}addInitialStars(),update();