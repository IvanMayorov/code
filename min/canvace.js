const loader=document.querySelector(".loader"),codeVideo=document.querySelector(".background-video video"),abstractVideo=document.querySelector(".abstract video"),overlay=document.querySelector(".color_overlay");function showElement(e){e&&(e.style.opacity="1",e.style.pointerEvents="auto")}function hideElement(e){e&&(e.style.opacity="0",e.style.pointerEvents="none")}function playVideo(e,o=0){e&&(e.currentTime=o,e.play())}function pauseVideo(e,o=null){e&&(e.pause(),null!==o&&(e.currentTime=o))}function setOverlayColor(e){overlay&&(overlay.style.backgroundColor=e)}function resetLoaderBackground(){loader&&(loader.style.background="")}function playAnimation(e=1){switch(e){case 1:setOverlayColor("#D26E62"),playVideo(codeVideo,0),hideElement(loader),resetLoaderBackground(),setTimeout((()=>{hideElement(codeVideo),pauseVideo(codeVideo),showElement(loader),resetLoaderBackground(),playVideo(abstractVideo,0),animateLoader((()=>{hideElement(loader),resetLoaderBackground(),showElement(codeVideo),playVideo(codeVideo,0),pauseVideo(abstractVideo,3),playAnimation(2)}))}),8e3);break;case 2:setOverlayColor("transparent"),playVideo(codeVideo,0),hideElement(loader),resetLoaderBackground(),setTimeout((()=>{hideElement(codeVideo),pauseVideo(codeVideo),showElement(loader),resetLoaderBackground(),playVideo(abstractVideo,3),animateLoader((()=>{hideElement(loader),resetLoaderBackground(),showElement(codeVideo),playVideo(codeVideo,0),pauseVideo(abstractVideo),playAnimation(3)}))}),8e3);break;case 3:setOverlayColor("hsla(218, 37%, 36%, 1)"),playVideo(codeVideo,0),hideElement(loader),resetLoaderBackground(),setTimeout((()=>{hideElement(codeVideo),pauseVideo(codeVideo),showElement(loader),resetLoaderBackground(),playVideo(abstractVideo,6),animateLoader((()=>{hideElement(loader),resetLoaderBackground(),showElement(codeVideo),playVideo(codeVideo,0),pauseVideo(abstractVideo),playAnimation(4)}))}),8e3);break;case 4:setOverlayColor("transparent"),playVideo(codeVideo,0),hideElement(loader),resetLoaderBackground(),setTimeout((()=>{hideElement(codeVideo),pauseVideo(codeVideo),showElement(loader),resetLoaderBackground(),playVideo(abstractVideo,9),animateLoader((()=>{hideElement(loader),resetLoaderBackground(),showElement(codeVideo),playVideo(codeVideo,0),pauseVideo(abstractVideo),playAnimation(5)}))}),8e3);break;case 5:setOverlayColor("#555"),playVideo(codeVideo,0),hideElement(loader),resetLoaderBackground(),setTimeout((()=>{hideElement(codeVideo),pauseVideo(codeVideo),showElement(loader),resetLoaderBackground(),playVideo(abstractVideo,12),animateLoader((()=>{hideElement(loader),resetLoaderBackground(),showElement(codeVideo),playVideo(codeVideo,0),pauseVideo(abstractVideo),playAnimation(1)}))}),8e3)}}function animateLoader(e){if(!loader)return void(e&&e());let o=0;const a=performance.now();requestAnimationFrame((function d(t){o=(t-a)/3e3*100,loader.style.background=`linear-gradient(90deg, white ${o}%, transparent ${o}%)`,o<100?requestAnimationFrame(d):(resetLoaderBackground(),e&&e())}))}abstractVideo&&(abstractVideo.muted=!0,abstractVideo.style.objectFit="cover"),loader&&(loader.style.transition="opacity .3s ease"),codeVideo&&(codeVideo.style.transition="opacity .3s ease"),hideElement(loader),showElement(codeVideo),playAnimation();